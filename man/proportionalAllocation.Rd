% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/proportionalAllocation.R
\name{proportionalAllocation}
\alias{proportionalAllocation}
\title{Proportional Allocation}
\usage{
proportionalAllocation(x, macro_value, weight, data)
}
\arguments{
\item{x:}{Vector or variable containing the microdata values to be scaled}

\item{macro_value:}{Scalar value representing the macroeconomic aggregate target.
If NA, the function returns normalized shares (proportions summing to 1)}

\item{weight:}{Survey weight variable}

\item{data:}{Data frame containing the micro data}
}
\value{
scaled data for each multiple imputation
}
\description{
Adjusts microdata values to align with macroeconomic totals using proportional
scaling within each multiple imputation.

The function groups data for each implicate. Then, it:
\enumerate{
\item Calculates the weighted total of the microdata variable
\item Scales each observation proportionally so the weighted total matches the macro
target, preserving the relative distribution of the original microdata
}
}
\details{
The notation .x and .w in dplyr creates new columns in the dataframe with the
names from those objects
}
