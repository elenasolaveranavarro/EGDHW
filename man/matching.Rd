% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/matching.R
\name{matching}
\alias{matching}
\title{Matching micro-macro variables}
\usage{
matching(micro, weight, macro, stage)
}
\arguments{
\item{micro}{Vector or variable representing the microdata values}

\item{weight}{Survey weight variable for population scaling}

\item{macro}{String name of the corresponding macroeconomic aggregate variable}

\item{stage}{String indicating the data processing stage. Must be one of:
"initial", "adjusted", "imputed", "aligned", "pareto", "pareto_aligned"

This function performs two key calculations
\enumerate{
\item \strong{Coverage Ratio}: Compares the weighted sum of microdata to the
corresponding macroeconomic total. Perfect alignment gives a ratio of 1.
\item \strong{Gini Coefficient}: Measures inequality in the distribution using
the bias-corrected weighted Gini coefficient.
}

Both figures are calculated for each imputation separately, then averaged
to account for imputation uncertainty. Results are stored in the global object
\code{output}}
}
\value{
the micro variable chosen
}
\description{
Computes coverage ratios and Gini coefficients across multiple imputations.
}
